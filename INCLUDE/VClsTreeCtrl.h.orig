#ifndef __TVCLSTREECTRL_H
#define __TVCLSTREECTRL_H
	

#include "MClsTree.h"
#include "TPresenter.h"
#include "TViewCtrlPanel.h"
#include "DClsEditor.h"

namespace wh{
namespace view{


class VClsTreeCtrl
	: public TViewCtrlPanel<CtrlTool::Load 
							| CtrlTool::Append
							| CtrlTool::Remove
							| CtrlTool::Edit
							, DClsEditor
							, true
							>
{

public:
	VClsTreeCtrl(wxWindow* parent,
		wxWindowID id = wxID_ANY,
		const wxPoint& pos = wxDefaultPosition,
		const wxSize& size = wxDefaultSize,
		long style = wxTAB_TRAVERSAL,
		const wxString& name = wxPanelNameStr);

	void OnActivated(wxDataViewEvent &evt);
	void OnBack(wxCommandEvent& event);

	void SetModel(std::shared_ptr<IModel> model);

	// hold paren node 
	std::shared_ptr<MClsNode> mClsNode;

	void BuildGoUpItem();
};




}//namespace view
}//namespace wh
#endif //__*_H